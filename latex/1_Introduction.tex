\chapter{Introduzione}
Il termine power management è stato usato nel corso degli anni per raggruppare problemi di diversa tipologia, ma che ruotano tutti attorno al concetto di energia.
Tra questi infatti si può includere:
\begin{itemize}
    \item Power management legata alla gestione della potenza assorbita, a sua volta suddivisibile in:
    \begin{itemize}
        \item Thermal Design Power, potenza termica massima che un componente può dissipare;
        \item Therm Design Current o Peak Current, legata alla massima corrente erogabile da alimentatori o dai processori;
    \end{itemize}
    \item Thermal management, gestione temperatura dinamica o statica;
    \item Energy management, gestione della sostenibilità e del consumo di energia;
\end{itemize}

\noindent In questa tesi, si farà riferimento a questa parola per abbracciare tutti e tre i concetti che essa può rappresentare, offrendo così una visione olistica e completa del problema.

Il contesto nel quale viene definito un Power Management è spesso un sistema di \emph{High-Performance Computing}, detto anche sistema ad alte prestazioni. Questi ultimi sono macchine computazionali composte da cluster di decine o a volte centinaia di nodi interconnessi tra di loro da reti a bassa latenza. Ogni nodo è composto a sua volta da decine di processori, ed acceleratori come CPU, GPU e TPU. %todo gls
Inoltre ogni nodo mette a disposizione memorie di diverso tipo, con capienze elevate e ad alta banda, condivisibile tra i processori al suo interno. Andando a considerare tutti i cluster nel loro insieme, si ottengo capacità computazioni che nei giorni nostri hanno raggiunto ordini del ExaFlops ($10^{18}$ operazioni di Floating Point per secondo). 

In contrasto a ciò, dagli anni '70 ad oggi si sono manifestate difficolta sempre più grandi nel ridimensionamento dei transistor, che ha portato ad una progressiva fine delle leggi di Denard e Moore\cite{Dennardsscaling}\cite{Dennardsscaling2}. Tali leggi, che avevano guidato l'industria informatica per decenni, prevedevano un consumo energetico costante al crescere della velocità e capacità computazionale. Quando la loro efficacia è venuta a mancare, il mantenimento e ancora di più lo sviluppo di nuove generazioni di sistemi sono diventati compiti tutt'altro che banali\cite{growth}, rendendo sempre più di vitale importanza i software in grado di automatizzarne la gestione.
Dall'arrivo degli exa-computer\footnote{Supercomputer in grado che raggiunge prestazioni di ExaFlops}, la potenza necessaria per alimentare questi sistemi ha superato la precedente soglia dei 20MWatt\cite{TOP500}. Se poi si considera che la maggior parte della potenza fornita, viene convertita in calore, si deve prendere in considerazione anche i consumi necessari per tenere raffreddati i sistemi. Infatti, se non adeguati comporterebbero grandi inefficienze in termini di energia, che si traducono anche in degradazioni di prestazioni computazionali. Prendendo in considerazione ogni aspetto, i centri che ospitano queste macchine necessitano di decine di MWatt di potenza per ogni exa-computer che hanno in funzionamento. Ordini di grandezza di questo tipo non sono facilmente raggiungibili e anche quando lo sono, hanno costi estremamente elevati. 
%Inoltre i prezzi per garantire questi valori di Watt aumenta in modo non lineare.
Al fine di definire dei power budget, e utilizzare efficientemente la potenza richiesta si sono resi necessari strumenti in grado di operare su diversi livelli di astrazione. 
Sono nati così i primi concetti di Power Management, componenti per controllare l'utilizzo di energia utilizzando diverse strategie, al fine di ridurre gli sprechi energetici e, allo stesso tempo, garantire un temperatura di funzionamento sicura. %Power Management può essere visto come un sistema composto sia da parti software che Hardware.
L'insieme dei componenti software e hardware che svolgono il compito di Power Management vanno a formare un Power Stack(PS) in grado di gestire la potenza assorbita di macchine HPC.



Mentre sono state proposte diverse soluzioni in tale argomento, %o mancanza?
%gestione della potenza e dell'energia, 
la maggior parte di esse si è rivelata essere una rimedio per soddisfare singoli obiettivi di ottimizzazione o per un singolo sistema di HPC. Infatti molti dei prodotti attualmente disponibili svolgono compiti senza una visione globale e spesso in conflitto gli uni con gli altri. Peraltro non sono neanche mai state definite o modellizzate interfacce di comunicazione tra i vari software, lasciando agli amministratori dei sistemi di HPC, l'onere di farlo.
%TODOV: Trovare queste cit: M. Maiterth et al., Energy and power aware job scheduling and resource management: global survey initial analysis, in 2018 IEEE International Parallel and Distributed Processing Symposium Workshops (IPDPSW), Vancouver, BC, 2018, pp. 685–693, doi: 10.1109/IPDPSW.2018.00111.
%Un recente studio [22] condotto dal gruppo di lavoro EEHPC [9] ha concluso che la maggior parte di tali tecniche manca di una consapevolezza globale necessaria per ottenere le migliori prestazioni di sistema e throughput. Inoltre, ciascuna tecnica tende a migliorare la gestione di potenza ed energia per un sottoinsieme diverso dell'hardware del sito o del sistema e a diverse granularità (spesso in conflitto). Sfortunatamente, le tecniche esistenti non sono state progettate per coesistere simultaneamente su un unico sito e cooperare nella gestione in modo efficiente. %Traduzione GPT di paper PS, da cambiare
% Per affrontare queste lacune, la comunità HPC ha bisogno di uno stack completo per la gestione di energia e potenza. 



% NON SO SE SERVE QUI DDS =======================================================================
% L'obiettivo finale sarebbe infatti quello di fornire un middleware documentato e facilmente integrabile, nei vari strumenti ad oggi presenti, per collegarli tra loro utilizzando un approccio distribuito e sfruttando il potenziale del Data Distribution Service (DDS) %[\ref{SEC:dds}] 
% nonché quello di \gls{Real-Time} Publish-Subscribe (RTPS).

% \section{Contributi}
% I contributi di questa tesi sono stati lo studio e caratterizzazione di una specifica implementazione di DDS all'interno di sistemi HPC al fine di fornire una visione più completa della possibilità di integrare questo strumento come base delle comunicazioni di un middlware per i componenti del power management. Successivamente sono stati valutati dei modelli basati su questi risultati come modo d'uso. Infine sono stati creati per completare il quadro due di questi attori, mancanti nelle implementazioni attualmente prodotte, utilizzando la libreria REGALE.